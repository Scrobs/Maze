<!-- index.html -->
<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <title>GenerÃ¡tor a vizualizÃ©r bludiÅ¡Å¥</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="PokroÄilÃ½, tisknutelnÃ½ a exportovatelnÃ½ 2D generÃ¡tor bludiÅ¡Å¥ s vÃ½bÄ›rem algoritmÅ¯ a moÅ¾nostmi pÅ™izpÅ¯sobenÃ­ obtÃ­Å¾nosti.">
  <link rel="stylesheet" href="style/main.css">
  <!-- Monospaced font for optimal clarity -->
  <link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;700&display=swap" rel="stylesheet">
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="assets/logo.svg">
</head>
<body>
  <div class="container">
    <form id="maze-config" autocomplete="off">
      <label for="maze-width">Å Ã­Å™ka:</label>
      <input type="number" id="maze-width" name="width" value="20" min="2" max="100" required title="PoÄet bunÄ›k na Å¡Ã­Å™ku (2-100)">

      <label for="maze-height">VÃ½Å¡ka:</label>
      <input type="number" id="maze-height" name="height" value="20" min="2" max="100" required title="PoÄet bunÄ›k na vÃ½Å¡ku (2-100)">

      <label for="algorithm">Algoritmus generovÃ¡nÃ­:</label>
      <select id="algorithm" name="algorithm">
        <option value="binary-tree" title="VytvÃ¡Å™Ã­ velmi jednoduchÃ© bludiÅ¡tÄ› s diagonÃ¡lnÃ­ strukturou. IdeÃ¡lnÃ­ pro zaÄÃ¡teÄnÃ­ky - kaÅ¾dÃ¡ buÅˆka se pÅ™ipojuje buÄ na sever, nebo vÃ½chod. RychlÃ½ a spolehlivÃ½ algoritmus.">BinÃ¡rnÃ­ strom (velmi snadnÃ©)</option>
        <option value="sidewinder" title="Generuje bludiÅ¡tÄ› s dlouhÃ½mi horizontÃ¡lnÃ­mi cestami a mÃ©nÄ› mrtvÃ½ch koncÅ¯. Pracuje Å™Ã¡dek po Å™Ã¡dku, vytvÃ¡Å™Ã­ horizontÃ¡lnÃ­ 'bÄ›hy' s obÄasnÃ½mi vertikÃ¡lnÃ­mi spojenÃ­mi.">Sidewinder (snadnÃ©)</option>
        <option value="recursive-backtracker" title="Produkuje bludiÅ¡tÄ› s dlouhÃ½mi klikatÃ½mi cestami a relativnÄ› mÃ¡lo mrtvÃ½mi konci. PouÅ¾Ã­vÃ¡ hloubkovÄ› orientovanÃ½ prÅ¯chod s nÃ¡vratem. Velmi populÃ¡rnÃ­ algoritmus.">RekurzivnÃ­ nÃ¡vrat (snadnÃ©â€“stÅ™ednÃ­)</option>
        <option value="hunt-and-kill" title="VyvÃ¡Å¾Ã­ sloÅ¾itost s rÅ¯znÃ½mi dÃ©lkami chodeb. StÅ™Ã­dÃ¡ fÃ¡ze nÃ¡hodnÃ© prochÃ¡zky ('zabÃ­jenÃ­') se systematickÃ½m hledÃ¡nÃ­m ('lov') nepropojenÃ½ch bunÄ›k.">Hon a zabÃ­jenÃ­ (stÅ™ednÃ­)</option>
        <option value="aldous-broder" title="RandomizovanÃ½ algoritmus vytvÃ¡Å™ejÃ­cÃ­ uniformnÄ› nÃ¡hodnÃ© bludiÅ¡tÄ› bez systematickÃ½ch vzorcÅ¯. MÅ¯Å¾e bÃ½t pomalÃ½ na vÄ›tÅ¡Ã­ch bludiÅ¡tÃ­ch, ale garantuje nezaujatÃ© vÃ½sledky.">Aldous-Broder (stÅ™ednÃ­)</option>
        <option value="ellers" title="EfektivnÃ­ Å™Ã¡dkovÃ½ algoritmus s zajÃ­mavÃ½mi vzory propojenÃ­. Pracuje Å™Ã¡dek po Å™Ã¡dku a spravuje mnoÅ¾iny bunÄ›k pro zajiÅ¡tÄ›nÃ­ konektivity. IdeÃ¡lnÃ­ pro velmi Å¡irokÃ¡ bludiÅ¡tÄ›.">EllerÅ¯v algoritmus (stÅ™ednÃ­â€“tÄ›Å¾kÃ©)</option>
        <option value="prims" title="PostupnÄ› rozÅ¡iÅ™uje bludiÅ¡tÄ› z jednoho bodu pÅ™idÃ¡vÃ¡nÃ­m hraniÄnÃ­ch stÄ›n. Tenduje k vytvÃ¡Å™enÃ­ krÃ¡tkÃ½ch vÄ›tvenÃ­ a mnoha malÃ½ch mrtvÃ½ch koncÅ¯.">RandomizovanÃ½ PrimÅ¯v algoritmus (stÅ™ednÃ­â€“tÄ›Å¾kÃ©)</option>
        <option value="kruskals" title="NÃ¡hodnÄ› sluÄuje mnoÅ¾iny bunÄ›k pomocÃ­ minimÃ¡lnÃ­ kostry grafu. VytvÃ¡Å™Ã­ nÃ¡roÄnÃ© struktury s rovnomÄ›rnou texturou a mnoha krÃ¡tkÃ½mi mrtvÃ½mi konci.">RandomizovanÃ½ KruskalÅ¯v algoritmus (tÄ›Å¾kÃ©)</option>
        <option value="wilsons" title="VytvÃ¡Å™Ã­ nezaujatÃ© bludiÅ¡tÄ› pomocÃ­ smyÄek-vymazanÃ½ch nÃ¡hodnÃ½ch prochÃ¡zek. Velmi pomalÃ½ na zaÄÃ¡tku, ale urychluje se. Garantuje uniformnÃ­ pokrytÃ­.">WilsonÅ¯v algoritmus (tÄ›Å¾kÃ©â€“velmi tÄ›Å¾kÃ©)</option>
        <option value="braided" title="Post-procesuje bludiÅ¡tÄ› odstranÄ›nÃ­m mrtvÃ½ch koncÅ¯ pro vytvoÅ™enÃ­ smyÄek a alternativnÃ­ch cest. UmoÅ¾Åˆuje vÃ­ce Å™eÅ¡enÃ­ a zkratek.">ProplÃ©tanÃ© / Post-processed (velmi tÄ›Å¾kÃ©)</option>
        <option value="sparse-loop" title="PÅ™idÃ¡vÃ¡ Å™Ã­dkÃ© smyÄky do perfektnÃ­ho bludiÅ¡tÄ› pro minimÃ¡lnÃ­, ale nÃ¡roÄnou sloÅ¾itost. VytvÃ¡Å™Ã­ strategickÃ© zkratky bez naruÅ¡enÃ­ hlavnÃ­ vÃ½zvy.">Å˜Ã­dkÃ© smyÄky (extrÃ©mnÄ› tÄ›Å¾kÃ©)</option>
        <option value="multi-layer" title="Generuje sloÅ¾itÃ© vÃ­cevrstvÃ© bludiÅ¡tÄ› pro expert Å™eÅ¡itele. Simuluje 3D struktury nebo non-euklidovskou geometrii s portÃ¡ly mezi vrstvami.">3D / VÃ­cevrstvÃ© / Non-euklidovskÃ© (noÄnÃ­ mÅ¯ra/expert)</option>
      </select>

      <!-- Single-Path Toggle -->
      <label for="single-path" style="display:block; margin-top:0.5rem;" title="ZajistÃ­, Å¾e bludiÅ¡tÄ› mÃ¡ pouze jedno moÅ¾nÃ© Å™eÅ¡enÃ­ mezi vstupem a vÃ½stupem">
        <input type="checkbox" id="single-path" name="singlePath">
        PerfektnÃ­ bludiÅ¡tÄ› (jedinÃ© Å™eÅ¡enÃ­)
      </label>

      <!-- Distribution Balancer Toggle -->
      <label for="balance-dist" style="display:block; margin-top:0.5rem;" title="UpravÃ­ pomÄ›r rÅ¯znÃ½ch typÅ¯ bunÄ›k v bludiÅ¡ti pro vyvÃ¡Å¾enÄ›jÅ¡Ã­ obtÃ­Å¾nost">
        <input type="checkbox" id="balance-dist" name="balanceDist">
        VyvÃ¡Å¾it pomÄ›ry mrtvÃ½ch koncÅ¯ / vÄ›tvenÃ­ / rovnÃ½ch cest
      </label>

      <div id="algorithm-options" class="algorithm-options">
        <!-- Braided options -->
        <div class="option-group" data-algorithm="braided">
          <label for="braidness" title="UrÄuje, kolik mrtvÃ½ch koncÅ¯ bude odstranÄ›no (0 = Å¾Ã¡dnÃ©, 1 = vÅ¡echny)">StupeÅˆ propletenÃ­ (0-1):</label>
          <input type="number" id="braidness" name="braidness" value="0.5" min="0" max="1" step="0.1">
        </div>
        <!-- Sparse loop options -->
        <div class="option-group" data-algorithm="sparse-loop">
          <label for="loop-fraction" title="PodÃ­l vÅ¡ech moÅ¾nÃ½ch smyÄek, kterÃ© budou pÅ™idÃ¡ny (0 = Å¾Ã¡dnÃ©, 1 = vÅ¡echny moÅ¾nÃ©)">PodÃ­l smyÄek (0-1):</label>
          <input type="number" id="loop-fraction" name="loopFraction" value="0.12" min="0" max="1" step="0.01">
        </div>
        <!-- Multi-layer options -->
        <div class="option-group" data-algorithm="multi-layer">
          <label for="layers" title="PoÄet vrstev bludiÅ¡tÄ› umÃ­stÄ›nÃ½ch vedle sebe (2-5)">PoÄet vrstev:</label>
          <input type="number" id="layers" name="layers" value="2" min="2" max="5">
          <label for="portals" title="PoÄet nÃ¡hodnÃ½ch portÃ¡lÅ¯/spojenÃ­ mezi vrstvami (1-10)">PoÄet portÃ¡lÅ¯:</label>
          <input type="number" id="portals" name="portals" value="4" min="1" max="10">
        </div>
      </div>

      <!-- Distribution Balancer Options -->
      <div id="balance-options" class="algorithm-options">
        <label title="PodÃ­l bunÄ›k s pouze jednÃ­m vÃ½chodem (mrtvÃ© konce)">
          MrtvÃ© konce %:
          <input type="number" id="dead-end-ratio" name="deadEndRatio"
                 value="0.4" min="0" max="1" step="0.05">
        </label>
        <label title="PodÃ­l bunÄ›k se tÅ™emi vÃ½chody (kÅ™iÅ¾ovatky)">
          TrojcestnÃ© kÅ™iÅ¾ovatky %:
          <input type="number" id="three-way-ratio" name="threeWayRatio"
                 value="0.4" min="0" max="1" step="0.05">
        </label>
        <label title="PodÃ­l bunÄ›k se dvÄ›ma protilehlÃ½mi vÃ½chody (rovnÃ© chodby)">
          RovnÃ© chodby %:
          <input type="number" id="straight-ratio" name="straightRatio"
                 value="0.2" min="0" max="1" step="0.05">
        </label>
      </div>

    </form>

    <div class="controls">
      <button id="generate-btn" type="button" title="Vygeneruje novÃ© bludiÅ¡tÄ› podle zvolenÃ½ch nastavenÃ­">Generovat</button>
      <button id="clear-btn" type="button" title="VymaÅ¾e aktuÃ¡lnÃ­ bludiÅ¡tÄ› z plÃ¡tna">Vymazat</button>
      <button id="save-btn" type="button" title="UloÅ¾Ã­ bludiÅ¡tÄ› jako JSON soubor pro pozdÄ›jÅ¡Ã­ naÄtenÃ­">UloÅ¾it jako JSON</button>
      <button id="save-svg-btn" type="button" title="Exportuje bludiÅ¡tÄ› jako vektorovÃ½ SVG soubor pro tisk nebo Ãºpravy">UloÅ¾it jako SVG</button>
      <button id="print-worksheet-btn" type="button" title="Vygeneruje 3 bludiÅ¡tÄ› (snadnÃ©, stÅ™ednÃ­, tÄ›Å¾kÃ©) a stÃ¡hne je jako PDF na A4. TIP: V dialogu tisku vypnÄ›te 'HlaviÄky a patiÄky' pro nejÄistÅ¡Ã­ vÃ½sledek." style="background: #d63031; margin-top: 1rem; width: 100%;">ğŸ“„ StÃ¡hnout tiskovÃ½ arch PDF</button>
    </div>

    <canvas id="maze-canvas" title="VygenerovanÃ© bludiÅ¡tÄ› - zelenÃ½ Ätverec je vstup, ÄervenÃ½ Ätverec je vÃ½stup"></canvas>
    <div id="error-message" class="error-message" role="alert"></div>
  </div>

  <script type="module" src="src/app.js"></script>
</body>
</html>